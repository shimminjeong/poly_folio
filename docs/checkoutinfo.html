<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>폴리도서관</title>
    <!-- bootstrap -->
    <!-- npm으로 설치한 bootstrap -->
    <!-- <link rel="stylesheet" href="style.css"> -->
    <link rel="stylesheet" href='/assets/css/styles.css'>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <link href="../assets/css/layout.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>

</head>

<body>
    <div class="wrapper">
        <header>
            <!-- header -->
            
<div id="logoBar">
    <div id="headerBar">
    <div class="logo">
        <img src="assets/images/logo.png">
    </div>
    <div class="subject">
        <h1>폴리 도서관</h1>
    </div>
</div>
</div>

<div id="navbar">
    <nav class="navbar navbar-expand-lg bg-body-tertiary" id="navbar">
    <div class="container-fluid">
        <a class="navbar-brand" href="index.html">home</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="user.html">회원관리</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="booksearch.html">도서검색</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="checkout.html">대출관리</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="checkoutinfo.html">대여목록</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
</div>



        </header>
        <script>
    fetch('./assets/json/checkout.json')
        .then((response) => {
            if (!response.ok) {
                throw new Error("JSON 파일을 로드하는데 오류가 발생했습니다.");
            }
            console.log("json파일 로드 성공");
            return response.json();
        })
        .then(checkoutData => {
            function createTable() {
                const tableBody = document.getElementById("loanHistoryListChk");

                // 기존의 tbody 내용 제거
                while (tableBody.firstChild) {
                    tableBody.firstChild.remove();
                }

                checkoutData.forEach((checkout) => {
                    const row = document.createElement("tr");

                    // 번호
                    const number = document.createElement("td");
                    number.textContent = checkout.number;
                    row.appendChild(number);

                    // 이름
                    const name = document.createElement("td");
                    name.textContent = checkout.name;
                    row.appendChild(name);

                    // 책 제목
                    const title = document.createElement("td");
                    title.textContent = checkout.title;
                    row.appendChild(title);

                    // 대여일자
                    const checkoutdate = document.createElement("td");
                    checkoutdate.textContent = checkout.checkoutdate;
                    row.appendChild(checkoutdate);

                    // 반납예정일자
                    const expreturndate = document.createElement("td");
                    expreturndate.textContent = checkout.expreturndate;
                    row.appendChild(expreturndate);

                    // 반납일자
                    const returndate = document.createElement("td");
                    returndate.textContent = checkout.returndate;
                    row.appendChild(returndate);

                    // 반납상태
                    const returnstate = document.createElement("td");
                    returnstate.textContent = checkout.returnstate;
                    row.appendChild(returnstate);

                    tableBody.appendChild(row);
                });
            }
            createTable(); // Call the function to populate the table with data
        })
        .catch(error => {
            console.log("json파일 로드 오류: " + error);
        });
</script>


<div id="content">
    <h2>대여목록</h2>
    <table id="tab">
        <thead>
            <tr>
                <th>번호</th>
                <th>이름</th>
                <th>제목</th>
                <th>대여일자</th>
                <th>반납예정일자</th>
                <th>반납일자</th>
                <th>반납상태</th>
            </tr>
        </thead>
        <tbody id="loanHistoryListChk"></tbody>
    </table>
</div>
        <footer>
            <footer>
    <div class="intromyself">
        <div>2023 광명융합기술교육원 데이터분석과 심민정</div>
    </div>
    <div class="footercontent">
        <div><a class="nav-link" href="#">공지사항 </a></div>
        <div><a class="nav-link" href="#">FAQ</a></div>
        <div><a class="nav-link" href="#">약관 및 정책</a></div>
    </div>
</footer>
        </footer>
    </div>
</body>

</html>